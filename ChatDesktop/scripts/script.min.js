"use strict";let doc=document,innerWindowWidth=()=>window.innerWidth,innerWindowHeight=()=>window.innerHeight,body=document.body,modalLinks=doc.querySelectorAll("[data-modal-link]");for(let e of modalLinks)e.addEventListener("click",()=>{let t=e.dataset.modalLink;if(void 0!==t){showOrHideModal(doc.getElementById(t))}});let modalClosers=doc.querySelectorAll(".modal-closer");for(const e of modalClosers)e.addEventListener("click",()=>{closeModal(e.closest(".modal-window"),!0)});function returnScrollbarWidth(){return innerWindowWidth()-doc.querySelector("html").clientWidth}let unlock=!0;const transitionTimeout=.5;function showOrHideModal(e){if(e&&unlock){let t=doc.querySelector(".modal-window.active");t?closeModal(t,!1):toggleBodyScroll(!1),e.classList.add("active")}e.addEventListener("click",t=>{t.target.closest(".modal-window__content")||closeModal(e,!0)})}function closeModal(e,t){unlock&&(e.classList.remove("active"),t&&toggleBodyScroll(!0))}function toggleBodyScroll(e){e&&!1===fsMenuIsActive?(body.style.paddingRight=0,body.classList.remove("fixed")):(body.style.paddingRight=returnScrollbarWidth()+"px",body.classList.add("fixed")),unlock=!1,setTimeout(()=>{unlock=!0},500)}function showOrHideSubmenu(e){const t=e.currentTarget,o=doc.querySelectorAll(".navmenu__submenu"),n=doc.querySelectorAll(".submenu-open-button");for(let e=0;e<o.length;e++)o[e]!==t.firstElementChild&&n[e]!==t&&(n[e].classList.remove("show"),o[e].classList.remove("show"));void 0!==t.firstElementChild&&(t.classList.toggle("active"),t.firstElementChild.classList.toggle("show"))}doc.addEventListener("keydown",e=>{if("Escape"===e.code){closeModal(doc.querySelector(".modal-window.active"),!0)}});const activateSubmenuButtons=doc.querySelectorAll(".submenu-open-button");for(let e of activateSubmenuButtons)e.addEventListener("click",showOrHideSubmenu);function showSubmitButton(e,t){t?submitButton.classList.add("unactive"):submitButton.classList.remove("unactive")}const chatInput=document.querySelector("#chat-text");chatInput.addEventListener("focus",()=>showSubmitButton(null,!1)),chatInput.addEventListener("blur",()=>showSubmitButton(null,!0));const submitButton=document.querySelector("#chat-submit");function closeSidepanel(e){sidepanel.remove()}const sidepanel=document.querySelector(".sidepanel"),closeSidepanelButton=document.querySelector("#profile-close");closeSidepanelButton.addEventListener("click",closeSidepanel),doc.addEventListener("keydown",e=>{let t=doc.querySelector(".chat__body");"End"===e.code&&t.scrollIntoView(!1)});